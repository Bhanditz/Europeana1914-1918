<%
  provide :title, t('views.admin.annotations.index.title')
%>
<div class="section top">

  <h2><%= yield :title %></h2>
  
  <%- if @annotations.present? -%>
    <table>
      <thead>
        <tr>
          <td scope="col">Date</td>
          <td scope="col"><%= t('activerecord.models.user') %></td>
          <td scope="col"><%= t('activerecord.models.contribution') %></td>
          <td scope="col">Annotation text</td>
          <td scope="col">Annotation type</td>
        </tr>
      </thead>
      <tbody>
        <%- for annotation in @annotations -%>
          <tr>
            <td><%= l annotation[:created_at], :format => :short %></td>
            <td><%= link_to annotation[:user_name], admin_user_path(annotation[:user]) %></td>
            <td><%= link_to truncate(annotation[:contribution].title, :length => 140, :separator => ' '), contribution_path(annotation[:contribution]) %></td>
            <td><%= truncate annotation[:text], :length => 140, :separator => ' ' %></td>
            <td><%= annotation[:type] %></td>
          </tr>
        <%- end -%>
      </tbody>
    </table>
  <%- else -%>
    
  <%- end -%>

</div>
